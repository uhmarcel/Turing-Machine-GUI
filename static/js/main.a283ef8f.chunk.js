(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(t,e,n){t.exports=n(45)},31:function(t,e,n){},33:function(t,e,n){},39:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),i=n(21),s=n.n(i),o=(n(31),n(2)),c=n.n(o),u=n(4),l=n(5),p=n(6),h=n(11),f=n(10),d=n(12),m=n(46),q=n(47),v=n(48),g=n(49),y=n(23),k=(n(33),function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={displayValue:n.props.TM.toString(),focus:!1},n.updateInput=function(){var t=Object(u.a)(c.a.mark(function t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.setState({displayValue:e.target.value});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.processInput=function(){var t=Object(u.a)(c.a.mark(function t(e){var a,r,i,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.props,r=a.TM,i=a.updateTM,s=e.target.value,/.*(?:\[|\])/g.test(s)){t.next=7;break}return r.setInput(s),t.next=7,i();case 7:n.setFocusOff();case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.setFocusOn=function(){n.setState({focus:!0})},n.setFocusOff=function(){n.setState({focus:!1})},n}return Object(d.a)(e,t),Object(p.a)(e,[{key:"componentDidUpdate",value:function(){var t=this.props.TM,e=this.state,n=e.displayValue,a=e.focus;n===t.toString()||a||this.setState({displayValue:t.toString()})}},{key:"render",value:function(){var t=this.state.displayValue,e=this.props.TM;return r.a.createElement(m.a,{fluid:!0,className:"d-flex align-items-center Display"},r.a.createElement("div",{className:"w-100"},r.a.createElement("h6",null,"Turing Machine Simulation"),r.a.createElement(q.a,{size:"sm"},r.a.createElement(v.a,{type:"text",name:"tmDisplay",spellCheck:"false",className:"DisplayArea",value:t,onFocus:this.setFocusOn,onChange:this.updateInput,onBlur:this.processInput}),r.a.createElement(g.a,{addonType:"append"},r.a.createElement(y.a,{style:{border:"none"}},"q"+e.getState()))),r.a.createElement("span",{className:"OutputText"},"Output: "+e.getOutput())))}}]),e}(a.Component)),M=n(50),b=n(15),w=n(14),O=(n(39),function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={play:null},n.simulationReset=Object(u.a)(c.a.mark(function t(){var e,a,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.props,a=e.TM,r=e.updateTM,a.resetTape(),a.setInput(a.input),r();case 4:case"end":return t.stop()}},t)})),n.simulationBack=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Not yet implemented");case 1:case"end":return t.stop()}},t)})),n.simulationStep=Object(u.a)(c.a.mark(function t(){var e,a,r,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.props,a=e.TM,r=e.program,i=e.updateTM,a.step(r),i();case 3:case"end":return t.stop()}},t)})),n.simulationPlay=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=n.state.play)?e=setInterval(n.simulationStep,200):(clearInterval(e),e=null),n.setState({play:e});case 3:case"end":return t.stop()}},t)})),n.simulationFastforward=Object(u.a)(c.a.mark(function t(){var e,a,r,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=n.props,a=e.TM,r=e.program,i=e.updateTM;!a.isDone();)a.step(r);i();case 3:case"end":return t.stop()}},t)})),n.getPlayIcon=function(){return n.state.play?w.d:w.e},n.getPlayStyle=function(){return n.state.play?{}:{paddingLeft:"8px"}},n}return Object(d.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.getPlayIcon();return r.a.createElement("div",{className:"container-fluid ControlPanel"},r.a.createElement("div",{className:"EditorMsg"},"Editor"),r.a.createElement("div",{className:"float-right"},r.a.createElement(M.a,{color:"light",className:"ControlButton",onClick:this.simulationReset},r.a.createElement(b.a,{icon:w.f})),"  ",r.a.createElement(M.a,{color:"light",className:"ControlButton"},r.a.createElement(b.a,{icon:w.a})),"  ",r.a.createElement(M.a,{color:"light",className:"ControlButton",onClick:this.simulationStep},r.a.createElement(b.a,{icon:w.b})),"  ",r.a.createElement(M.a,{color:"light",className:"ControlButton",onClick:this.simulationPlay,style:this.getPlayStyle()},r.a.createElement(b.a,{icon:t,style:{height:"15px"}})),"  ",r.a.createElement(M.a,{color:"light",className:"ControlButton",onClick:this.simulationFastforward},r.a.createElement(b.a,{icon:w.c}))))}}]),e}(a.Component)),E=n(24),x="# Binary addition TM program\n# Outputs the addition of all input binary numbers of the same length.\n\n# Mark start of tape\nq0]r (1, q1) (0, q1) \nq1]l (#/S, q2)\n\n# Mark end of tape\nq2]r (#, q3)\nq3]r (#, q4) (1, q2) (0, q2)\nq4]l (#/E, q5)\nq5]l (S, q6)\n\n# Make enough space for output\nq6]r (1/X, q7) (0/Y, q7) (#/C, q10) (E/#, q14) \n\tq7]r (E, q8)\n\tq8]r (#/A, q9) (0/A, q9)\n\tq9]l (X/1, q6) (Y/0, q6)\n\n\tq10]r (E, q11)\n\tq11]r (A/0, q11) (#/0, q12)\n    q12]l (C/#, q6) \n\n# Set new marks for current input and end of tape\nq14]r (A/0, q14) (#/E, q15)\nq15]l (S/#, q16)\nq16]r (#/C, q17)\n\n# Add current input to output sum\nq17]l (1/X, q18) (0/Y, q21) (#, q24)\n\tq18]r (X/1, q19) (Y/0, q19) (E, q19)\n    q19]l (1/Y, q20) (0/X, q23)\n    q20]l (1/0, q20) (0/1, q23)\n    \n    q21]r (X/1, q22) (Y/0, q22) (E, q22)\n    q22]l (1/X, q23) (0/Y, q23)\n    \n    q23]l (X/1, q17) (Y/0, q17)\n   \n# Reset tokens and repeat sum with next input   \nq24]r (C/#, q25)\nq25]r (#/C, q26) (E/#, q28)\nq26]r (X/1, q27) (Y/0, q27)\nq27]l (C, q17)\n\n# Move to final output position, clear unused zeroes and halt\nq28]l (X/1, q29) (Y/0, q29)\nq29]l (#, q30)\nq30]r (1, q31) (#, qh)\nq31]l (0/#, qh) (#, qh)\nq32]l (0, q31)\n",j=(n(40),n(41),n(17)),T=n.n(j);n(42);T.a.defineSimpleMode("tm-custom",{start:[{regex:/^(q[0-9]+])\s*([rl])/,token:["tag","atom"]},{regex:/\(\s*(?:.\s*\/\s*.\s*|.\s*),\s*(q(?:h|[0-9]+))\s*\)/,token:["attribute"]},{regex:/#.*/,token:"comment"}],meta:{lineComment:"#"}});n(43);var S=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={code:x},n.updateCode=function(){var t=Object(u.a)(c.a.mark(function t(e){var a,r,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=n.props,r=a.program,i=a.updateProgram,n.setState({code:e}),r.loadCode(e),i();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.handleChange=function(){var t=Object(u.a)(c.a.mark(function t(e,a,r){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.updateCode(r);case 1:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}(),n}return Object(d.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){var t=this.state.code;this.updateCode(t)}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"calc(100% - 200px"}},r.a.createElement(E.Controlled,{value:this.state.code,onBeforeChange:this.handleChange,options:{mode:"tm-custom",theme:"xq-light",lineNumbers:!0}}))}}]),e}(a.Component),C=(n(44),function(){function t(e,n,a,r,i){Object(l.a)(this,t),this.state=e,this.direction=n,this.target=a,this.replace=r,this.nextState=i}return Object(p.a)(t,[{key:"toString",value:function(){var t="";return t+="q"+this.state+"]",t+=this.direction?"r":"l",t+="("+this.target+"/"+this.replace+",q"+this.nextState+")"}}]),t}()),I=function(){function t(){Object(l.a)(this,t),this.instructions=[],this.indexedMap={}}return Object(p.a)(t,[{key:"addInstruction",value:function(t){this.instructions.push(t),null==this.indexedMap[t.state]&&(this.indexedMap[t.state]={direction:null,targets:{}}),this.indexedMap[t.state].direction=t.direction,this.indexedMap[t.state].targets[t.target]={replace:t.replace,nextState:t.nextState}}},{key:"loadCode",value:function(t){var e,n,a,r=this,i=t.split(/\r?\n/);e=/^q([0-9]+)\]([lr])(\(.\/.,q(?:h|[0-9]+)\))*(#.*)?$/,n=/\((.)\/(.),q((?:h|[0-9]+))\)/g,a=/\((.)\/(.),q((?:h|[0-9]+))\)/,this.clear(),i.forEach(function(t){var i=(t=(t=t.replace(/\s+/g,"")).replace(/\((.),q((?:h|[0-9]+))\)/g,"($1/$1,q$2)")).match(e);if(null!=i){var s,o,c,u,l;s=i[1],o="r"===i[2];var p=t.match(n);null!=p&&p.forEach(function(t){var e=t.match(a);null!=e&&(c=e[1],u=e[2],l=e[3],r.addInstruction(new C(s,o,c,u,l)))})}})}},{key:"clear",value:function(){this.instructions=[],this.indexedMap={}}},{key:"toString",value:function(){var t="";return this.instructions.forEach(function(e){t+=e.toString()+"\n"}),t}}]),t}(),N=function(){function t(){Object(l.a)(this,t),this.tape=["#"],this.position=0,this.state=0,this.input=null}return Object(p.a)(t,[{key:"resetTape",value:function(){this.tape=["#"],this.position=0,this.state=0}},{key:"setInput",value:function(t){this.resetTape();var e=this.position;this.input=t;for(var n=0;n<t.length;n++)this.tape[e+n+1]=t.charAt(n);this.tape.push("#")}},{key:"step",value:function(t){var e,n,a,r,i;if(!this.isDone())return this.position===this.tape.length-1&&this.tape.push("#"),e=this.state,n=t.indexedMap[e].direction,this.position+=n?1:-1,a=this.tape[this.position],null!=t.indexedMap[e].targets[a]?(r=t.indexedMap[e].targets[a].replace,i=t.indexedMap[e].targets[a].nextState):(r=a,i=e),this.tape[this.position]=r,this.state=i,this.formatTape(),this.toString()}},{key:"getOutput",value:function(){if(!this.isDone())return"";for(var t="",e=this.position+1;e<this.tape.length-1;e++)t+=this.tape[e];return""===t?"\u03bb":t}},{key:"isDone",value:function(){return"h"===this.state}},{key:"formatTape",value:function(){for(;this.tape.length>2&&this.position<this.tape.length-1&&"#"===this.tape[this.tape.length-2];)this.tape.pop()}},{key:"toString",value:function(){for(var t="",e=0;e<this.tape.length;e++)e===this.position?t+="["+this.tape[e]+"]":t+=this.tape[e];return t}},{key:"getState",value:function(){return this.state}}]),t}(),A=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={TM:new N,program:new I},n.updateTM=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.state.TM,n.setState({TM:e});case 2:case"end":return t.stop()}},t)})),n.updateProgram=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.state.program,n.setState({program:e});case 2:case"end":return t.stop()}},t)})),n}return Object(d.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.state.TM.setInput("1#101#10"),this.updateTM()}},{key:"render",value:function(){var t=this.state,e=t.TM,n=t.program;return r.a.createElement("div",{className:"App"},r.a.createElement(k,{TM:e,updateTM:this.updateTM}),r.a.createElement(O,{TM:e,program:n,updateTM:this.updateTM}),r.a.createElement(S,{TM:e,program:n,updateTM:this.updateTM,updateProgram:this.updateProgram}))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.a283ef8f.chunk.js.map